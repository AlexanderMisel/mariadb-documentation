# CREATE SEQUENCE

##### MariaDB starting with [10.3](/kb/en/what-is-mariadb-103/)

CREATE SEQUENCE was introduced in [MariaDB 10.3](/kb/en/what-is-mariadb-103/).

## Syntax

```sql
CREATE [OR REPLACE] [TEMPORARY] SEQUENCE [IF NOT EXISTS] sequence_name
[ INCREMENT [ BY | = ] increment ]
[ MINVALUE [=] minvalue | NO MINVALUE | NOMINVALUE ]
[ MAXVALUE [=] maxvalue | NO MAXVALUE | NOMAXVALUE ]
[ START [ WITH | = ] start ] 
[ CACHE [=] cache | NOCACHE ] [ CYCLE | NOCYCLE] 
[table_options]```

The options for `CREATE SEQUENCE` can be given in any order, optionally followed by `table_options`.

<em>table_options</em> can be any of the normal table options in [CREATE TABLE](/sql-statements-structure/sql-statements/data-definition/create/create-table/) but the most usable ones are `ENGINE=...` and `COMMENT=`.

`NOMAXVALUE` and `NOMINVALUE` are there to allow one to create SEQUENCEs using the Oracle syntax.

## Description

CREATE SEQUENCE will create a sequence that generates new
values when called with `NEXT VALUE FOR sequence_name`. It's an alternative to [AUTO INCREMENT](/columns-storage-engines-and-plugins/data-types/auto_increment/) when one wants to have more control of how the numbers are generated.  As the SEQUENCE caches values (up to `CACHE`) it can in some cases be much faster than [AUTO INCREMENT](/columns-storage-engines-and-plugins/data-types/auto_increment/). Another benefit is that one can access the last value generated by all used sequences, which solves one of the limitations with [LAST_INSERT_ID()](/built-in-functions/secondary-functions/information-functions/last_insert_id/).

CREATE SEQUENCE requires the [CREATE privilege](/sql-statements-structure/sql-statements/account-management-sql-commands/grant/).

[DROP SEQUENCE](/sql-statements-structure/sequences/drop-sequence/) can be used to drop a sequence, and [ALTER SEQUENCE](/sql-statements-structure/sequences/alter-sequence/) to change it.

### Arguments to Create

The following options may be used:

<table><tbody><tr><th>Option</th><th>Default value</th><th>&nbsp;Description</th></tr>
<tr><td>INCREMENT</td><td>&nbsp;1</td><td>Increment to use for values. May be negative. Setting an increment of 0 causes the sequence to use the value of the <a href="/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_increment">auto_increment_increment</a> system variable at the time of creation, which is always a positive number. (see <a href="https://jira.mariadb.org/browse/MDEV-16035">MDEV-16035</a>).</td></tr>
<tr><td>MINVALUE</td><td>1 if INCREMENT &gt; 0 and -9223372036854775807 if INCREMENT &lt; 0</td><td>Minimum value for the sequence</td></tr>
<tr><td>MAXVALUE</td><td>9223372036854775806 if INCREMENT &gt; 0 and -1 if INCREMENT &lt; 0</td><td>Max value for sequence</td></tr>
<tr><td>START</td><td>MINVALUE if INCREMENT &gt; 0 and MAX_VALUE if INCREMENT&lt; 0</td><td>First value that the sequence will generate</td></tr>
<tr><td>CACHE</td><td>1000</td><td>&nbsp;Number of values that should be cached. 0 if no CACHE.  The underlying table will be updated first time a new sequence number is generated and each time the cache runs out.</td></tr>
</tbody></table>

If `CYCLE` is used then the sequence should start again from `MINVALUE` after it has run out of values. Default value is `NOCYCLE`.

### Constraints on Create Arguments

To be able to create a legal sequence, the following must hold:

- MAXVALUE &gt;= start
- MAXVALUE &gt; MINVALUE
- START &gt;= MINVALUE
- MAXVALUE &lt;= 9223372036854775806  (LONGLONG_MAX-1)
- MINVALUE &gt;= -9223372036854775807 (LONGLONG_MIN+1)

Note that sequences can't generate the maximum/minimum 64 bit number because of the constraint of
`MINVALUE` and `MAXVALUE`.

## Examples

```sql
CREATE SEQUENCE s START WITH 100 INCREMENT BY 10;

CREATE SEQUENCE s2 START WITH -100 INCREMENT BY -10;
```

The following statement fails, as the increment conflicts with the defaults

```sql
CREATE SEQUENCE s3 START WITH -100 INCREMENT BY 10;
ERROR 4082 (HY000): Sequence 'test.s3' values are conflicting
```

The sequence can be created by specifying workable minimum and maximum values:

```sql
CREATE SEQUENCE s3 START WITH -100 INCREMENT BY 10 MINVALUE=-100 MAXVALUE=1000;
```

## See Also

- [Sequence Overview](/sql-statements-structure/sequences/sequence-overview/)
- [ALTER SEQUENCE](/sql-statements-structure/sequences/alter-sequence/)
- [DROP SEQUENCE](/sql-statements-structure/sequences/drop-sequence/)
- [NEXT VALUE FOR](/sql-statements-structure/sequences/sequence-functions/next-value-for-sequence_name/)
- [PREVIOUS VALUE FOR](/sql-statements-structure/sequences/sequence-functions/previous-value-for-sequence_name/)
- [SETVAL()](/sql-statements-structure/sequences/sequence-functions/setval/).  Set next value for the sequence.
- [AUTO INCREMENT](/columns-storage-engines-and-plugins/data-types/auto_increment/)
- [SHOW CREATE SEQUENCE](/sql-statements-structure/sql-statements/administrative-sql-statements/show/show-create-sequence/)